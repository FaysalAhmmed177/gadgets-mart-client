(this["webpackJsonpgadgets-mart-client"]=this["webpackJsonpgadgets-mart-client"]||[]).push([[0],{57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},87:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),a=c(27),r=c.n(a),o=(c(57),c(5)),i=(c(58),c(8)),j=(c(59),c(1)),l=function(){var e=Object(n.useContext)(q),t=Object(o.a)(e,2),c=t[0];t[1];return console.log(c),Object(j.jsx)("div",{children:Object(j.jsx)("nav",{className:"navbar navbar-expand-sm mt-3",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{className:"navbar-brand",children:"GADGETS MART"}),Object(j.jsxs)("div",{className:"navbar-nav d-flex",children:[Object(j.jsx)(i.b,{to:"/home",className:"text-dark link",children:"Home"}),Object(j.jsx)(i.b,{to:"/orders",className:"text-dark link",children:"Orders"}),Object(j.jsx)(i.b,{to:"/admin",className:"text-dark link",children:"Admin"}),Object(j.jsx)(i.b,{to:"/deals",className:"text-dark link",children:"Deals"}),c.name?Object(j.jsx)("img",{src:c.photo,style:{height:"50px",width:"50px"},className:"rounded-circle ml-4",alt:""}):Object(j.jsx)(i.b,{to:"/login",children:Object(j.jsx)("button",{class:"btn btn-primary link",children:"Login"})})]})]})})})},d=c(6),b=(c(65),function(e){var t=e.product;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"col-md-3 mt-3",children:Object(j.jsxs)("div",{class:"card p-3 mb-3",children:[Object(j.jsx)("img",{style:{height:"150px",width:"180px"},src:t.imageURL,class:"card-img-top",alt:"..."}),Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("div",{className:"d-flex h-50 justify-content-center align-items-center",children:Object(j.jsxs)("h5",{class:"card-title",children:[t.name," - ",t.model]})}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"d-flex justify-content-center align-items-center justify-content-between",children:[Object(j.jsx)("h5",{class:"card-text ",children:t.price}),Object(j.jsx)(i.b,{to:"/checkout/".concat(t._id),children:Object(j.jsx)("button",{className:"btn btn-primary rounded",children:"Buy Now"})})]})]})]})})})}),h=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){fetch("https://banana-crisp-28043.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){s(e)}))}),[]),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row justify-content-around",children:[0===c.length&&Object(j.jsx)("div",{class:"spinner-border text-primary",role:"status",children:Object(j.jsx)("span",{class:"visually-hidden"})}),c.map((function(e){return Object(j.jsx)(b,{product:e})}))]})})},u=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useContext)(q),r=Object(o.a)(a,2),i=r[0];r[1];Object(n.useEffect)((function(){fetch("https://banana-crisp-28043.herokuapp.com/orderedProduct").then((function(e){return e.json()})).then((function(e){s(e),console.log(e)}))}),[]);for(var l=[],d=0;d<c.length;d++)c[d].email===i.email&&(l[d]=c[d],console.log(l));return Object(j.jsxs)("div",{className:"container mt-3 text-center",children:[Object(j.jsxs)("h1",{className:"text-center",children:["Congratulations ",i.name,"! Your have ",l.length," orders"]}),Object(j.jsx)("br",{}),0===l.length&&Object(j.jsx)("div",{class:"spinner-border text-primary",role:"status",children:Object(j.jsx)("span",{class:"visually-hidden"})}),Object(j.jsxs)("table",{className:"table ordersTable",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:"bg-primary",children:[Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Email"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e){return i.email===e.email&&Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.price}),Object(j.jsx)("td",{children:e.date}),Object(j.jsx)("td",{children:e.email})]})}))})]})]})},O=(c(66),c(48)),x=c.n(O),m=c(29),p=c.n(m),f=c(47),g=c.n(f),v=c(45),N=c.n(v),y=(c(67),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1];Object(n.useEffect)((function(){fetch("https://banana-crisp-28043.herokuapp.com/products").then((function(e){return e.json()})).then((function(e){s(e)}))}),[]);return Object(j.jsxs)("div",{className:"container p-3 text-center",children:[Object(j.jsx)("h1",{className:"mt-3 mb-3 text-left",children:"Manage Product"}),0===c.length&&Object(j.jsx)("div",{class:"spinner-border text-primary",role:"status",children:Object(j.jsx)("span",{class:"visually-hidden"})}),Object(j.jsxs)("table",{className:"table productTable",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:"bg-primary",children:[Object(j.jsx)("th",{children:"Product"}),Object(j.jsx)("th",{children:"Quantity"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:"1"}),Object(j.jsx)("td",{children:e.price}),Object(j.jsxs)("td",{children:[Object(j.jsx)("button",{className:"btn btn-success",children:Object(j.jsx)(p.a,{})})," ",Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e._id,console.log("Delete item",t),void fetch("https://banana-crisp-28043.herokuapp.com/delete/".concat(t),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){}));var t},children:Object(j.jsx)(N.a,{})})]})]})}))})]})]})}),w=c(46),k=c.n(w),P=c(50),S=function(){var e=Object(P.a)(),t=e.register,c=e.handleSubmit,s=(e.watch,e.errors,Object(n.useState)(null)),a=Object(o.a)(s,2),r=a[0],i=a[1];return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"mt-3 mb-5",children:"Add Product"}),Object(j.jsxs)("form",{onSubmit:c((function(e){var t={name:e.name,model:e.model,price:e.price,imageURL:r};console.log(t),fetch("https://banana-crisp-28043.herokuapp.com/addProduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){console.log("server side response",e)}))})),children:[Object(j.jsx)("label",{htmlFor:"name",children:"Product Name"}),Object(j.jsx)("input",{name:"name",className:"form-control w-50",placeholder:"Enter Name",ref:t}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{htmlFor:"model",children:"Product Model"}),Object(j.jsx)("input",{name:"model",className:"form-control w-50",placeholder:"Enter quantity",ref:t}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{htmlFor:"price",children:"Add Price"}),Object(j.jsx)("input",{name:"price",className:"form-control w-50",placeholder:"Enter price",ref:t}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{name:"exampleRequired",type:"file",onChange:function(e){console.log(e.target.files[0]);var t=new FormData;t.set("key","ef066363ea457d07cc1dcfecbbbdf89d"),t.append("image",e.target.files[0]),k.a.post("https://api.imgbb.com/1/upload",t).then((function(e){console.log(e),i(e.data.data.display_url)})).catch((function(e){console.log(e)}))}}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"submit"})]})]})},C=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("h1",{className:"mt-3 mb-5",children:"Edit your product"})})},E=function(){var e=Object(n.useContext)(q),t=Object(o.a)(e,2),c=(t[0],t[1],Object(d.j)()),s=c.path,a=c.url;return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-3 p-4 Sidebar",style:{height:"100vh"},children:[Object(j.jsx)(i.b,{to:"/home",className:"text-white",id:"goToHome",children:"GADGETS MART"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)(i.b,{to:"".concat(a,"/manageProduct"),className:"text-white ",children:[Object(j.jsx)(g.a,{}),"   Manage Product"]}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)(i.b,{to:"".concat(a,"/addProduct"),className:"text-white text-center",children:[Object(j.jsx)(x.a,{})," Add Product"]}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)(i.b,{to:"".concat(a,"/editProduct"),className:"text-white text-center",children:[Object(j.jsx)(p.a,{}),"  Edit Product"]}),Object(j.jsx)("br",{})]}),Object(j.jsx)("div",{className:"col-md-9",children:Object(j.jsxs)(d.d,{children:[Object(j.jsx)(d.b,{path:"".concat(s,"/manageProduct"),children:Object(j.jsx)(y,{})}),Object(j.jsx)(d.b,{path:"".concat(s,"/addProduct"),children:Object(j.jsx)(S,{})}),Object(j.jsx)(d.b,{path:"".concat(s,"/editProduct"),children:Object(j.jsx)(C,{})})]})})]})},A=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("h1",{children:"Features will comming soon."})})},D=c(13),F=(c(87),c(18)),T=(c(88),{apiKey:"AIzaSyCN1omHFbH6gtFfUSUU_r7CztiiktpVDJc",authDomain:"gadgets-mart-132d4.firebaseapp.com",projectId:"gadgets-mart-132d4",storageBucket:"gadgets-mart-132d4.appspot.com",messagingSenderId:"297893427303",appId:"1:297893427303:web:b4ea6a4765e50765a8bcc2"}),U=c(33),I=c(34);0===F.a.apps.length&&F.a.initializeApp(T);var L=function(){var e=Object(n.useContext)(q),t=Object(o.a)(e,2),c=(t[0],t[1]),s=Object(d.g)(),a=(Object(d.h)().state||{from:{pathname:"/"}}).from,r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],b=i[1],h=Object(n.useState)({isSignedIn:!1,name:"",email:"",password:"",photo:"",error:"",success:!1}),u=Object(o.a)(h,2),O=u[0],x=u[1],m=new F.a.auth.GoogleAuthProvider,p=new F.a.auth.FacebookAuthProvider,f=function(e){var t=!0;if("email"===e.target.name&&(t=/\S+@\S+\.\S+/.test(e.target.value)),"password"===e.target.name){var n=e.target.value.length>6,s=/\d{2}/.test(e.target.value);t=n&&s}if(t){var a=Object(D.a)({},O);a[e.target.name]=e.target.value,x(a),c(a)}},g=function(e){F.a.auth().currentUser.updateProfile({displayName:e,photoURL:"https://example.com/jane-q-user/profile.jpg"}).then((function(){console.log("User name updated successfully")})).catch((function(e){console.log(e)}))};return Object(j.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(j.jsxs)("div",{className:"login-form p-4",children:[Object(j.jsx)("h3",{className:"text-center mb-2",children:l?"Create an account":"Login"}),Object(j.jsxs)("form",{onSubmit:function(e){console.log(O.email,O.password),l&&O.email&&O.password&&F.a.auth().createUserWithEmailAndPassword(O.email,O.password).then((function(e){var t=Object(D.a)({},O);t.error="",t.success=!0,x(t),g(O.name),c(t)})).catch((function(e){var t=Object(D.a)({},O);t.error=e.message,t.success=!1,console.log(e),x(t),c(t)})),!l&&O.email&&O.password&&F.a.auth().signInWithEmailAndPassword(O.email,O.password).then((function(e){var t=Object(D.a)({},O);t.error="",t.success=!0,c(t),s.replace(a),x(t),console.log("sign in user info",e.user)})).catch((function(e){var t=Object(D.a)({},O);t.error=e.message,t.success=!1,c(t),x(t)})),e.preventDefault()},children:[Object(j.jsx)("div",{className:"form-group",children:l&&Object(j.jsx)("input",{type:"text",name:"name",onBlur:f,className:"form-control",placeholder:"Enter your name"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",name:"email",onBlur:f,className:"form-control",placeholder:"Enter your email",required:!0})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"password",name:"password",onBlur:f,className:"form-control",placeholder:"Enter your password"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"submit",className:"form-control bg-success",value:l?"Sign up":"Login"})}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{style:{color:"red"},children:O.error}),O.success&&Object(j.jsxs)("p",{style:{color:"green"},children:["User ",l?"created":"logged in"," successfully"]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{className:"text-center",children:[l?"Already have an account?":"Don't have an account?"," ",Object(j.jsx)("input",{type:"checkbox",onChange:function(){return b(!l)},name:"newUser",id:""}),Object(j.jsx)("label",{htmlFor:"newUser",children:l?"Sign In":"Sign up"})]}),Object(j.jsx)("p",{className:"text-center",children:"or"})]}),Object(j.jsxs)("button",{className:"btn btn-danger w-100 mb-1 rounded-pill",onClick:function(){F.a.auth().signInWithPopup(m).then((function(e){var t=e.user,n=t.displayName,r=t.photoURL,o={isSignedIn:!0,name:n,email:t.email,photo:r};c(o),x(o),console.log(o),s.replace(a)})).catch((function(e){var t=e.code,c=e.message,n=e.email;console.log(t,c,n)}))},children:[Object(j.jsx)(U.a,{icon:I.b}),"Continue with Google"]}),Object(j.jsxs)("button",{className:"btn btn-primary w-100 rounded-pill",onClick:function(){F.a.auth().signInWithPopup(p).then((function(e){var t=e.user;c(t),s.replace(a),console.log(t)})).catch((function(e){var t=e.code,c=e.message,n=e.email;console.log(t,c,n)}))},children:[Object(j.jsx)(U.a,{icon:I.a}),"Continue with Facebook"]})]})})},B=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{className:"text-center text-danger mt-5",children:"404 Not Found"})})},R=c(51),G=function(e){var t=e.children,c=Object(R.a)(e,["children"]),s=Object(n.useContext)(q),a=Object(o.a)(s,2),r=a[0];a[1];return Object(j.jsx)(d.b,Object(D.a)(Object(D.a)({},c),{},{render:function(e){var c=e.location;return r.email?t:Object(j.jsx)(d.a,{to:{pathname:"/login",state:{from:c}}})}}))},M=function(){var e=Object(n.useContext)(q),t=Object(o.a)(e,2),c=t[0];t[1];console.log(c);var s=Object(n.useState)({}),a=Object(o.a)(s,2),r=a[0],i=a[1],l=Object(d.i)().id;console.log(l),Object(n.useEffect)((function(){fetch("https://banana-crisp-28043.herokuapp.com/product/".concat(l)).then((function(e){return e.json()})).then((function(e){i(e)}))}),[]);return Object(j.jsxs)("div",{className:"container mt-3",children:[Object(j.jsx)("h1",{children:"Checkout"}),Object(j.jsx)("br",{}),Object(j.jsxs)("table",{class:"table caption-top",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Description"}),Object(j.jsx)("th",{scope:"col",children:"Quantity"}),Object(j.jsx)("th",{scope:"col",children:"Price"})]})}),Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:r.name}),Object(j.jsx)("td",{children:r.quantity}),Object(j.jsx)("td",{children:r.price})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{colspan:"2",children:"Total"}),Object(j.jsx)("th",{children:r.price})]})]})]}),Object(j.jsx)("button",{onClick:function(e){console.log("Order submitted");var t=Object(D.a)(Object(D.a)(Object(D.a)({},c),r),{},{date:new Date});console.log(t),fetch("https://banana-crisp-28043.herokuapp.com/addOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("server side response",e),alert("Order placed successfully")}))},className:"btn btn-success",style:{float:"right"},children:"Checkout"})]})},q=Object(n.createContext)();var J=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(j.jsx)("div",{children:Object(j.jsx)(q.Provider,{value:[c,s],children:Object(j.jsx)(i.a,{children:Object(j.jsxs)(d.d,{children:[Object(j.jsxs)(d.b,{exact:!0,path:"/",children:[Object(j.jsx)(l,{}),Object(j.jsx)(h,{})]}),Object(j.jsxs)(d.b,{path:"/home",children:[Object(j.jsx)(l,{}),Object(j.jsx)(h,{})]}),Object(j.jsxs)(G,{path:"/orders",children:[Object(j.jsx)(l,{}),Object(j.jsx)(u,{})]}),Object(j.jsx)(G,{path:"/admin",children:Object(j.jsx)(E,{})}),Object(j.jsxs)(d.b,{path:"/deals",children:[Object(j.jsx)(l,{}),Object(j.jsx)(A,{})]}),Object(j.jsxs)(d.b,{path:"/login",children:[Object(j.jsx)(l,{}),Object(j.jsx)(L,{})]}),Object(j.jsxs)(G,{path:"/checkout/:id",children:[Object(j.jsx)(l,{}),Object(j.jsx)(M,{})]}),Object(j.jsxs)(d.b,{path:"*",children:[Object(j.jsx)(l,{}),Object(j.jsx)(B,{})]})]})})})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,106)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};c(92);r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root")),H()}},[[94,1,2]]]);
//# sourceMappingURL=main.20b7fbea.chunk.js.map